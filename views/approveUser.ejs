<%- include('partials/dashboard') %>
    <div class="container mt-5">
        
        <% if (users.length > 0) { %>
            <h2 class="mb-4 text-center">Pending User Approvals</h2>
            <table class="table table-bordered table-striped">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Email</th>
                        <th>Registered At</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <% users.forEach(user => { %>
                        <tr>
                            <td><%= user.id %></td>
                            <td><%= user.email %></td>
                            <td><%= new Date(user.created_at).toLocaleString() %></td>
                            <td>
                                <form action="/admin/approve/<%= user.id %>" method="POST" class="d-inline">
                                    <button type="submit" class="btn btn-success btn-sm">Approve</button>
                                </form>
                            </td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        <% } else { %>
            <div class="alert alert-info text-center">No pending approvals</div>
        <% } %>

        <a href="/" class="btn btn-secondary mt-3">Back to Dashboard</a>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
